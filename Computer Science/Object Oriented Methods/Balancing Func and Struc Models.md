# Balancing Functional and Structural Models

To balance the functional and structural models, we must ensure that the two sets of models are consistent with each other. That is, the activity diagrams, use‐case descriptions, and use‐case diagrams must agree with the CRC cards and class diagrams that represent the evolving model of the problem domain. In this case, there are four sets of associations between the models. This gives us a place to begin balancing the functional and structural models.19

First, every class on a class diagram and every CRC card must be associated with at least one use case, and vice versa. For example, the CRC card portrayed in Figure 5‐25 and its related class contained in the class diagram (see Figure 5‐7) are associated with the Make Old Patient Appt use case described in Figure 5‐2.

Second, every activity or action contained in an activity diagram and every event contained in a use‐case description should be related to one or more responsibilities on a CRC card and one or more operations in a class on a class diagram and vice versa. For example, the Get Patient Information activity on the example activity diagram (see Figure 5‐26) and the first two events on the use‐case description (see Figure 5‐2) are associated with the make appointment responsibility on the CRC card (see Figure 5‐25) and the makeAppointment() operation in the Patient class on the class diagram (see Figure 5‐7).

Third, every object node on an activity diagram must be associated with an instance of a class on a class diagram (i.e., an object) and a CRC card or an attribute contained in a class and on a CRC card. However, in Figure 5‐26, there is an object node, Appt Request Info, that does not seem to be related to any class in the class diagram portrayed in Figure 5‐7. Thus, either the activity or class diagram is in error or the object node must represent an attribute. In this case, it does not seem to represent an attribute. We could add a class to the class diagram that creates temporary objects associated with the object node on the activity diagram. However, it is unclear what operations, if any, would be associated with these temporary objects. Therefore, a better solution would be to delete the Appt Request Info object nodes from the activity diagram. In reality, this object node represented only a set of bundled attribute values, that is, data that would be used in the appointment system process (see Figure 5‐27).

Fourth, every attribute and association/aggregation relationships contained on a CRC card (and connected to a class on a class diagram) should be related to the subject or object of an event in a use‐case description. For example, in Figure 5‐2, the second event states: The Patient provides the Receptionist with his or her name and address. By reviewing the CRC card in Figure 5‐25 and the class diagram in Figure 5‐7, we see that the Patient class is a subclass of the Participant class and hence inherits all the attributes, associations, and operations defined with the Participant class, where name and address attributes are defined.

*Activity Diagram for the Manage Appointments Use Case*
![image](https://user-images.githubusercontent.com/73081144/177255478-22461eba-c00d-4f54-ac5c-6d0723384ee4.png)
*Corrected Activity Diagram for the Manage Appointments Use Case*
![image](https://user-images.githubusercontent.com/73081144/177255538-7474d4d1-1d75-465c-9509-f55cd7b7d3ad.png)

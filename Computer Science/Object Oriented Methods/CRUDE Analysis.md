# CRUDE Analysis

One useful technique to identify how the underlying objects in the problem domain work together to collaborate in support of the use cases is CRUDE analysis.9 CRUDE analysis uses a CRUDE matrix, in which each interaction among objects is labeled with a letter for the type of interaction: C for create, R for read or reference, U for update, D for delete, and E for execute. In an object‐oriented approach, a class/actor‐by‐class/actor matrix is used.10 Each cell in the matrix represents the interaction between instances of the classes. For example, in Figure 6‐5, an instance of the Receptionist actor creates an instance of the Appointment class. Assuming a Row: Column ordering, a C is placed in the cell Receptionist: Appointment. Also, in Figure 6‐5, an instance of the Receptionist actor references an instance of the Appointments class. In this case, an R is placed in the Receptionist: Appointments cell. Figure 6‐16 shows the CRUDE matrix based on the Make Old Patient Appt use case.

Unlike the interaction diagrams, a CRUDE matrix is most useful as a system‐wide representation. Once a CRUDE matrix is completed for the entire system, the matrix can be scanned quickly to ensure that every class can be instantiated. Each type of interaction can be validated for each class. For example, if a class represents only temporary objects, then the column in the matrix should have a D in it somewhere. Otherwise, the instances of the class will never be deleted. Because a data warehouse contains historical data, objects that are to be stored in one should not have any U or D entries in their associated columns. In this way, CRUDE analysis can be used as a way to partially validate the interactions among the objects in an object‐oriented system. Finally, the more interactions among a set of classes, the more likely they should be clustered together into a collaboration. However, the number and type of interactions are only an estimate at this point in the development of the system. Care should be taken when using this technique to cluster classes to identify collaborations. We return to this subject in the next chapter when we deal with partitions and collaborations.

![image](https://user-images.githubusercontent.com/73081144/178658398-6460fd7d-b287-4abb-943b-3dccc877e8dc.png)

## Library Example

The best way to create a CRUDE matrix is to conceptually merge the sequence diagrams that model all of the scenarios of all of the use cases in a system. The easiest way to accomplish this is simply to create an empty class/actor‐by‐class/actor matrix. In the case of the Library Book Collection Management System, we have six actors (Student, Faculty/Staff, Guest, Librarian, Personnel Office, and Registrar's Office) and eight classes (Book, Book Collection, Student, Faculty/Staff, Guest, Interlibrary Loan System, Library, and Storage). Once this matrix has been laid out, role‐playing the scenarios will show which actors and classes interact with each other. Based on the type of interaction, record a C, R, U, D, or E in the appropriate cell of the matrix. Do this repeatedly until all of the scenarios of all of the use cases have been executed. The CRUDE matrix for the Library Book Collection Management System is shown in Figure 6‐19. One of the functions that the matrix can serve is to begin the validation process of the entire system. In this case, by quickly reviewing the matrix we can see that absolutely nothing seems to be interacting with the Library and Storage objects. This raises an important question as to whether these objects should exist or not. If nothing calls or uses them and they don't call or use anything, then why are they part of this system? Either they should be removed from the current representation of the system, or we have managed to miss some interaction. Knowing this allows us to go back to the user, in this case the Librarian, and ask what should be done.

![image](https://user-images.githubusercontent.com/73081144/178658447-c69ea320-8b39-43b9-b485-74ca8f04cf0f.png)
